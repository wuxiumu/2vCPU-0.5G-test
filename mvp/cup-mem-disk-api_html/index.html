<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>登录 · 控制台</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
        body {
            background: linear-gradient(135deg,#f7fafd 40%,#eef4fa 100%);
            font-family: -apple-system,BlinkMacSystemFont,"SF Pro Display","Helvetica Neue",Arial,sans-serif;
            margin: 0; height: 100vh; min-height: 100vh; display: flex; align-items: center; justify-content: center;
        }
        .login-card {
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 6px 36px #dbeafe20;
            width: 350px; max-width: 90vw;
            padding: 38px 28px 30px 28px;
            display: flex; flex-direction: column; align-items: center;
            border: 1.5px solid #e5e8f0;
        }
        .logo-apple {
            width: 38px; height: 38px; margin-bottom: 16px;
        }
        .login-title {
            font-size: 1.45rem; font-weight: bold; letter-spacing: -.01em; margin-bottom: 30px; color: #1a1a1a;
        }
        .input-area {
            width: 100%; margin-bottom: 14px; display: flex; flex-direction: column; gap: 6px;
        }
        .input-label {
            font-size: 1.05em; color: #555; font-weight: 600;
        }
        .input-pwd {
            width: 100%; font-size: 1.2em; border-radius: 12px;
            border: 1.5px solid #c3cbe1; padding: 10px 14px; outline: none;
            background: #f8fafd; transition: border-color .18s;
            font-family: inherit;
        }
        .input-pwd:focus { border-color: #007aff; }
        .input-pwd.err { border-color: #ff3b30; background: #fff0f0; }
        .login-btn {
            width: 100%; padding: 12px 0; border: none;
            border-radius: 13px; background: linear-gradient(95deg,#007aff,#3bb7ff 90%);
            color: #fff; font-weight: 700; font-size: 1.2em; letter-spacing: .01em;
            margin-top: 8px; cursor: pointer; transition: filter .14s;
            box-shadow: 0 2px 8px #a1cfff18;
        }
        .login-btn:active { filter: brightness(0.96); }
        .err-tip {
            color: #ff3b30; font-size: 1.01em; margin: 6px 0 0 0; font-weight: 500; height: 20px; min-height: 1em;
            text-align: center; letter-spacing: .02em;
        }
        @media (max-width:450px) {
            .login-card { padding: 20px 4vw 18px 4vw; }
        }
    </style>
</head>
<body>
<div class="login-card">
    <svg class="logo-apple" viewBox="0 0 32 32"><path fill="#007aff" d="M21.4 5.5c0 1-0.3 2-1 2.9-0.7 0.9-1.8 1.6-2.9 1.5 0-1.1 0.3-2.1 1-2.9 0.6-0.8 1.8-1.6 2.9-1.5zM27.5 23.2c-0.4 0.9-0.7 1.2-1.4 2.1-0.9 1.3-2.2 2.8-3.8 2.8-1.3 0-1.7-0.8-3.5-0.8s-2.3 0.8-3.5 0.8c-1.6 0-2.9-1.4-3.8-2.7-2.6-3.7-2.8-8.1-1.2-10.5 1.1-1.7 2.8-2.7 4.7-2.7 1.1 0 2.1 0.8 3.5 0.8s2.2-0.8 3.5-0.8c2 0 3.6 1 4.7 2.7 0.1 0.2 0.2 0.3 0.3 0.5-5.1 2-4.4 7.3 1 7.8z"></path></svg>
    <div class="login-title">管理控制台登录</div>
    <form id="loginForm" autocomplete="off" onsubmit="return false;">
        <div class="input-area">
            <label class="input-label" for="pwd">密码</label>
            <input type="password" id="pwd" class="input-pwd" placeholder="请输入密码" autofocus />
        </div>
        <button type="submit" class="login-btn">登录</button>
        <div class="err-tip" id="errTip"></div>
    </form>
</div>
<script>
  const PASSWORD = '123456'; // 这里改成你的密码
  const LOGIN_REDIRECT = '/probe.html';
  const LOGIN_COOKIE_KEY = 'login_ok';

  function setCookie(name, value, days = 2) {
    const d = new Date();
    d.setTime(d.getTime() + days*24*60*60*1000);
    document.cookie = `${name}=${value};expires=${d.toUTCString()};path=/;SameSite=Strict;`;
  }
  function getCookie(name) {
    return document.cookie.split(';').map(s=>s.trim()).find(c=>c.startsWith(name+'='))?.split('=')[1];
  }
  function delCookie(name) {
    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
  }

  if (getCookie(LOGIN_COOKIE_KEY) === '1') {
    window.location.href = LOGIN_REDIRECT;
  }

  const $form = document.getElementById('loginForm');
  const $pwd = document.getElementById('pwd');
  const $err = document.getElementById('errTip');

  function login() {
    if ($pwd.value === PASSWORD) {
      setCookie(LOGIN_COOKIE_KEY, '1');
      $err.textContent = '';
      $pwd.classList.remove('err');
      window.location.href = LOGIN_REDIRECT;
    } else {
      $err.textContent = '密码错误，请重试。';
      $pwd.classList.add('err');
      $pwd.value = '';
      $pwd.focus();
    }
  }
  $form.addEventListener('submit', login);
  $pwd.addEventListener('keydown', e => {
    if (e.key === 'Enter') login();
  });
</script>
</body>
</html>